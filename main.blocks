<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id=",Xp~Tl.d!?^m3-M{t-6?">moetSchenken</variable><variable id="C8J;iYbiX4O9^2]y:Zq8">huidigeInhoud</variable><variable id="/1v4Kwfjo{PF}koyR8`1">strip</variable><variable id="deoN?kT/,MP=UQq{LEBq">colors</variable><variable id="=jP+^ue8YIxZeT|Uy:_E">colorIndex</variable><variable id=":8Fmhtj%u|5j(;toKhmV">schenkHoek</variable><variable id="/;.lWYlNg{;4+6d:d4Z3">druppelPauze</variable><variable id="tXMtYM/~H[I3UJWR,%0*">color1</variable><variable id=";YKjm*c0#Vvzq#=qw3d=">color2</variable><variable id="8c^yi;Y^QkMsA2-C[(ZN">color3</variable></variables><comment id="mof1)sA+cL}JM1?@%3*9" data="0" x="-9" y="-119" h="761" w="567">Dit is een microbit project dat een gieter simuleert.

Een ledstrip (30 pixels in dit voorbeeld) is verbonden aan P0

Een gevorderde uitdaging is het bepalen van het getal voor de kleuren van de leds.

De kleuren Rood Groen Blauw kunnen waardes hebben van 0 tot 255

Om tot een kleur als 1 getal te komen  gebruik je de volgende berekening:

(R*65536) + (G * 256) + B

hier zou je ook een functie voor kunnen maken

Programmeer concepten:

- Conditionele instructies ( If-&gt;Then-&gt;Else / als-&gt;dan-&gt;anders )

- Variabelen  (getallen , booleans , array )

- Lijsten (array)

- Functies

- Events   (Start, Input )

- Loop  (Forever)

- Debug strategie</comment><block type="pxt-on-start" id="5DJ]LCz9CNhdECl]U0}E" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="}cuncg%H1z_EiM;=DIzl"><field name="VAR" id="tXMtYM/~H[I3UJWR,%0*">color1</field><comment pinned="false" h="80" w="160">maak drie kleuren blauw</comment><value name="VALUE"><shadow type="math_number" id="=xf0iUq0PkhpQ,A$Gwb,"><field name="NUM">58</field></shadow></value><next><block type="variables_set" id="S)+m0q^Ih~pfI6hLv?YI"><field name="VAR" id=";YKjm*c0#Vvzq#=qw3d=">color2</field><value name="VALUE"><shadow type="math_number" id="q^CcG]yl})H3xu2i]t#y"><field name="NUM">4488</field></shadow></value><next><block type="variables_set" id="09,(@DDM5xyPv1uIn90:"><field name="VAR" id="8c^yi;Y^QkMsA2-C[(ZN">color3</field><value name="VALUE"><shadow type="math_number" id="h#VYOld[RGzT1KDT|b1f"><field name="NUM">13226</field></shadow></value><next><block type="variables_set" id="-pOBU?*sofzXc8V+cekF"><field name="VAR" id="deoN?kT/,MP=UQq{LEBq">colors</field><comment pinned="false" h="80" w="160">maak een lijst van de kleuren zodat we ze op basis van een nummer kunnen gebruik.  ( bijv ' de 2e uit de lijst ).
Let op bij programmeren begint een lijst vaak bij 0 .
dus een lijst met 3 elementen heeft als nummers. 0,1 en 2</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="T(;60jKRGZVhMfECFDgk"><mutation items="3" horizontalafter="3"></mutation><value name="ADD0"><block type="variables_get" id="r,{E3DlNw6O8MgPQ#Od}"><field name="VAR" id="tXMtYM/~H[I3UJWR,%0*">color1</field></block></value><value name="ADD1"><block type="variables_get" id="L?#U-n^#hV5[ks`~-6i."><field name="VAR" id=";YKjm*c0#Vvzq#=qw3d=">color2</field></block></value><value name="ADD2"><block type="variables_get" id="TbJroGH-7pSgj[E:o[Mn"><field name="VAR" id="8c^yi;Y^QkMsA2-C[(ZN">color3</field></block></value></block></value><next><block type="variables_set" id="*Jo,tkT8lBj*ZP1-r]pv"><field name="VAR" id="/1v4Kwfjo{PF}koyR8`1">strip</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="neopixel_create" id="fGzy%i,wVA;*~q;og|wC"><field name="pin">DigitalPin.P0</field><field name="mode">NeoPixelMode.RGB</field><value name="numleds"><shadow type="math_number" id="d;[eKa1t]v)s!zE+3`)2"><field name="NUM">30</field></shadow></value></block></value><next><block type="variables_set" id="6N9|9ED5`o.P$_`Xm.R7"><field name="VAR" id=":8Fmhtj%u|5j(;toKhmV">schenkHoek</field><comment pinned="false" h="80" w="160">Onder welke hoek beginnen we 'druppelen'</comment><value name="VALUE"><shadow type="math_number" id="wD%7=V{.JtO^EZYrI^2A"><field name="NUM">45</field></shadow></value><next><block type="variables_set" id="2V5;K^Y^m||=2N@eWftS"><field name="VAR" id="/;.lWYlNg{;4+6d:d4Z3">druppelPauze</field><comment pinned="false" h="80" w="160">dit is de pauze tussen druppels in miliseconden</comment><value name="VALUE"><shadow type="math_number" id="zf)l;mV/R3k~)NS2,_w("><field name="NUM">40</field></shadow></value><next><block type="variables_set" id="ob=:0~^8zPLR{]Dyag#I"><field name="VAR" id=",Xp~Tl.d!?^m3-M{t-6?">moetSchenken</field><comment pinned="false" h="80" w="160">maak een vlaggetje om het wel of niet schenken in te kunnen stellen</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="DtYapsN9q3dir!sHH0An"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="F2fKEVvbA^,;_+1H;l`?"><field name="VAR" id="C8J;iYbiX4O9^2]y:Zq8">huidigeInhoud</field><comment pinned="false" h="80" w="160">Stel het aantal druppels aan inhoud in</comment><value name="VALUE"><shadow type="math_number" id="O4pf.Equ+oN3:z!!QaI."><field name="NUM">100</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id=")H)ta:51V91?!5aN%Mzc" x="815" y="-9"><statement name="HANDLER"><block type="controls_if" id="aHOdW6M;eI%B[o:o?rCB"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Staat het vlaggetje (Boolean)  voor 'moetschenken' wel op waar? Zoja dan gaan we iets uitvoeren</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="o*;j{_]zUHHS+=?IhlC/"><field name="VAR" id=",Xp~Tl.d!?^m3-M{t-6?">moetSchenken</field></block></value><statement name="DO0"><block type="controls_if" id="}D!2lox*tT_Pf|8_[45|"><comment pinned="false" h="80" w="160">Is de microbit gekanteld tussen de 45 en 90 graden?
Zoja voer dan uit wat in de functie 'schenk' staat</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="15H+DjWh_8s0:h)f#Gby"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="hOY{eNQDss~a5HStq9T|"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_rotation" id="YsIuj$yeG8MCPzd!onwc"><field name="NAME">Rotation.Pitch</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="kAeUM3LXjFjs+}i!311a"><field name="VAR" id=":8Fmhtj%u|5j(;toKhmV">schenkHoek</field></block></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=")$?KZ=?p!#D{TsMq@s2p"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_rotation" id="4@jn^Qn[HIeD9pgpfHq#"><field name="NAME">Rotation.Pitch</field></block></value><value name="B"><shadow type="math_number" id="U^i*[6=8%/mZL0;iE|p)"><field name="NUM">90</field></shadow></value></block></value></block></value><statement name="DO0"><block type="function_call" id=":|%?)2:$pg#qDZO/zaox"><mutation name="schenk" functionid="3|eod%:?pkSx-kf3H-=O"></mutation></block></statement></block></statement><statement name="ELSE"><block type="serial_writeline" id="xkl9ooDSd5m()HW_={o+"><comment pinned="false" h="80" w="160">Staat het vlaggetje (Boolean)  voor 'moetschenken' on onwaar dan gebruiken we dit om in een grafiek de huidige rotatie van de microbit op te slaan, zodat we die kunnen controleren als iets niet werkt zoals verwacht.</comment><value name="text"><block type="text_join" id=";VkxVM-+ClJ9@#Y.bBzI"><mutation items="3"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="device_get_rotation" id="X]uda@%.m=cqCTSPYRZh"><field name="NAME">Rotation.Pitch</field></block></value><value name="ADD1"><shadow type="text" id="[Bd,+z-N%I|#1#]%IFlz"><field name="TEXT">,</field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"></field></shadow><block type="device_get_rotation" id="uOSSh=_x,h`A503;1.N7"><field name="NAME">Rotation.Roll</field></block></value></block></value></block></statement><next><block type="neopixel_shift" id="){N=xG%OX=_x8!fvO_ax"><comment pinned="false" h="80" w="160">schuif de leds (lampjes) 1 plek op . dit zorgt voor beweging</comment><value name="strip"><block type="variables_get" id="5{uM?3KJ(84(!sa}qN*Q"><field name="VAR" id="/1v4Kwfjo{PF}koyR8`1">strip</field></block></value><value name="offset"><shadow type="math_number" id="[~gQmx[]O(i=IgZO2V7*"><field name="NUM">1</field></shadow></value><next><block type="neopixel_show" id="MdlOl7E^N-jcFJrlYyWg"><comment pinned="false" h="80" w="160">bij een verandering van de leds moeten we expliciet zeggen dat we de wijzigingen willen zien .</comment><value name="strip"><block type="variables_get" id="?SP_x{1fc|/h?Bx|__yW"><field name="VAR" id="/1v4Kwfjo{PF}koyR8`1">strip</field></block></value><next><block type="device_plot_bar_graph" id="nUu,0eUg(zQ^W!@nEo4m"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><comment pinned="false" h="80" w="160">Toon op de lampjes op de microbit zelf de huidige hoeveelheid 'druppels' als een soort staafdiagram</comment><value name="value"><block type="variables_get" id="(0Eq;kV)nRgce;S$_{Yh"><field name="VAR" id="C8J;iYbiX4O9^2]y:Zq8">huidigeInhoud</field></block></value><value name="high"><shadow type="math_number" id="_UzeP/~YE_2BS99?/w[#"><field name="NUM">100</field></shadow></value><next><block type="device_pause" id="79s.{*j6qW~L7McHk8n!"><comment pinned="false" h="80" w="160">doe een kleine pauze tussen de druppels omdat het anders te snel gaat</comment><value name="pause"><shadow type="timePicker"></shadow><block type="variables_get" id="4T|weKhZA5K$.vg-QNu]"><field name="VAR" id="/;.lWYlNg{;4+6d:d4Z3">druppelPauze</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="xp~CA(95WzkA=:RDaniI" x="13" y="693"><mutation name="schenk" functionid="3|eod%:?pkSx-kf3H-=O"></mutation><field name="function_name">schenk</field><statement name="STACK"><block type="controls_if" id="#*L@#R3v#WgCwKM^D3E-"><comment pinned="false" h="80" w="160">zitten er nog druppels in de gieter?
Zo ja voer onderstaande uit.</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="M33-TQ:b*01JW)wqh-mG"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="|o.,M*2}3Ndeok`JsO}h"><field name="VAR" id="C8J;iYbiX4O9^2]y:Zq8">huidigeInhoud</field></block></value><value name="B"><shadow type="math_number" id="b?8^WnfA.!7:7-Wg|a;%"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="neopixel_set_pixel_color" id="r@Y,4-b({0g6yM{O{.Yc"><comment pinned="false" h="80" w="160">Zet de allereerste led aan met de huidige kleur uit de lijst die we gemaakt hebben</comment><value name="strip"><block type="variables_get" id="{82Rtx./1ZM9n$R5)|n`"><field name="VAR" id="/1v4Kwfjo{PF}koyR8`1">strip</field></block></value><value name="pixeloffset"><shadow type="math_number" id="XgUN61(.kl6K0DIKhAt]"><field name="NUM">0</field></shadow></value><value name="rgb"><shadow type="neopixel_colors"></shadow><block type="lists_index_get" id="r.?OWGC|M^E/bi-a{V+p"><value name="LIST"><block type="variables_get" id="rzIMLoSFm#DgZ0ZH=[#0"><field name="VAR" id="deoN?kT/,MP=UQq{LEBq">colors</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="aC@:sgVrUrPS#OJ]4jq4"><field name="VAR" id="=jP+^ue8YIxZeT|Uy:_E">colorIndex</field></block></value></block></value><next><block type="neopixel_show" id="sKMX8AfBP?C?sVi!8X*@"><value name="strip"><block type="variables_get" id="u$_6C0Pp^#.9v#u1i$bw"><field name="VAR" id="/1v4Kwfjo{PF}koyR8`1">strip</field></block></value></block></next></block></statement><next><block type="variables_change" id="DUnI3I8r}v|PBuCs8ai7"><field name="VAR" id="=jP+^ue8YIxZeT|Uy:_E">colorIndex</field><comment pinned="false" h="80" w="160">Hoog het getal dat wijst naar de positie in de lijst met kleuren met 1 op.</comment><value name="VALUE"><shadow type="math_number" id="uu9NO]+Wd[_BnuYoW.jG"><field name="NUM">1</field></shadow></value><next><block type="controls_if" id="B7SbzCOK/@)*ko]R:E)+"><comment pinned="false" h="80" w="160">Is het  getal dat wijst naar de positie in de lijst met kleuren groter dan 2? stel het dan weer in op 0</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="qY3Qeb{HK2_(e}r6z*S|"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="$L-9rDR[3QW*yR|{sIRw"><field name="VAR" id="=jP+^ue8YIxZeT|Uy:_E">colorIndex</field></block></value><value name="B"><shadow type="math_number" id="1zz#m3+hqeIf`,W9H|XM"><field name="NUM">2</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="{guSmhB?)p#1uo.e:rSu"><field name="VAR" id="=jP+^ue8YIxZeT|Uy:_E">colorIndex</field><value name="VALUE"><shadow type="math_number" id="OFYRP(Q-.1~8!9_f@nl4"><field name="NUM">0</field></shadow></value></block></statement><next><block type="variables_change" id="Ob`JMk+lMt%k]S$6@{G2"><field name="VAR" id="C8J;iYbiX4O9^2]y:Zq8">huidigeInhoud</field><comment pinned="false" h="80" w="160">Haal er een druppel af</comment><value name="VALUE"><shadow type="math_number" id="a]=@X2b3[(OB=-IKCGAp"><field name="NUM">-1</field></shadow></value><next><block type="music_playable_play" id="%cM15uC-zpmnYu+P]C;,"><field name="playbackMode">music.PlaybackMode.InBackground</field><comment pinned="false" h="80" w="160">Speel een geluidje. De toonhoogte is afhankelijk van het aantal druppels dat nog in de gieter zit</comment><value name="toPlay"><shadow type="music_string_playable"></shadow><block type="music_tone_playable" id="Qn8SG_g0C2CUX,6j.AwI"><value name="note"><shadow type="device_note"></shadow><block type="math_arithmetic" id="(Xpk{@/j74TFNSpJYaE)"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="_W[)+*)Sb|g6Wx#NVx0+"><field name="NUM">1.5</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=")ab6Qc~Tl}ocBuyXkUMs"><field name="VAR" id="C8J;iYbiX4O9^2]y:Zq8">huidigeInhoud</field></block></value></block></value><value name="duration"><shadow type="device_beat" id="Ku~gfEfr%i]zOhV*QM_("><field name="fraction">BeatFraction.Sixteenth</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="2iwM9lSZKfyMw}31lE5i" x="847" y="789"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">Als we op knop A drukken de draaien we de waarde van 'moetSchenken' om.
Hierdoor schakelen we tussen het weergeven van de druppels met de ledstrip en het schrijven van de rotatie waarden naar de grafiek</comment><data>0</data><statement name="HANDLER"><block type="variables_set" id="fWp3_BZH.!dz`F$04H@c"><field name="VAR" id=",Xp~Tl.d!?^m3-M{t-6?">moetSchenken</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_negate" id="=/i:$*}s[-=L+AQ)FsR8"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="1:uX,5IDwgwdq+^X}MZx"><field name="VAR" id=",Xp~Tl.d!?^m3-M{t-6?">moetSchenken</field></block></value></block></value></block></statement></block><block type="device_button_event" id="_#H]6}Nr(|nrD`-@C|iO" x="842" y="951"><field name="NAME">Button.B</field><comment pinned="false" h="80" w="160">Als we op knop B drukken vullen we de gieter weer</comment><statement name="HANDLER"><block type="variables_set" id="j~1iy06u5mF_@Gi`x3,G"><field name="VAR" id="C8J;iYbiX4O9^2]y:Zq8">huidigeInhoud</field><value name="VALUE"><shadow type="math_number" id="dq_y@nqxgoF8ddD/@8P)"><field name="NUM">100</field></shadow></value></block></statement></block></xml>